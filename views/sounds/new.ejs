<% layout("layouts/boilerplate") %>
<section class="m-auto">
    <h2 class="mb-4 text-center">Añade un nuevo sonido</h2>

    <form action="/sounds" method="POST" novalidate class="validated-form" enctype="multipart/form-data"><!--Para non usar validador estándar e usar o de bootstrap. Require función js-->
        <div class="row mb-3">
            <label for="name" class="col-sm-2 col-form-label">Nombre:</label>
            <div class="col-sm-10">
                <input type="text" id="name" placeholder="Sonido" name="sound[name]" class="form-control" required>
                <div class="valid-feedback">Válido!</div>
            </div>
        </div>

        <div class="row g-2 mb-3">
            <label for="minFrec" class="col-sm-4 col-form-label">Frecuencia mínima:</label>
            <div class="col-sm-8">
                <input type="number" min="20" max="20000" id="minFrec" placeholder="dB" name="sound[minFrec]" class="form-control" required>
                <div class="invalid-feedback">El valor de la frecuencia debe estar entre 20 y 20.000 Hz</div>
            </div>
        </div>

        <div class="row g-2 mb-3">
            <label for="maxFrec" class="col-sm-4 col-form-label">Frecuencia máxima:</label>
            <div class="col-sm-8">
                <input type="number" min="20" max="20000" id="maxFrec" placeholder="dB" name="sound[maxFrec]" class="form-control" required>
                <div class="invalid-feedback">El valor de la frecuencia debe estar entre 20 y 20.000 Hz</div>
            </div>
        </div>

        <div class="row g-2 mb-3">
            <label for="minInt" class="col-sm-4 col-form-label">Intensidad mínima:</label>
            <div class="col-sm-8">
                <input type="number" min="0" max="200" id="minInt" placeholder="Hz" name="sound[minInt]" class="form-control" required>
                <div class="invalid-feedback">El valor de la intensidad debe estar entre 0 y 200 dB</div>
            </div>
        </div>

        <div class="row g-2 mb-3">
            <label for="maxInt" class="col-sm-4 col-form-label">Intensidad máxima:</label>
            <div class="col-sm-8">
                <input type="number" min="0" max="200" id="maxInt" placeholder="Hz" name="sound[maxInt]"  class="form-control" required>
                <div class="invalid-feedback">El valor de la intensidad debe estar entre 0 y 200 dB</div>
            </div>
        </div>

        <div class="row mb-3">
            <label for="category" class="col-sm-2 col-form-label">Categoría:</label>
            <div class="col-sm-10">
            <select id="category" name="sound[category]" class="form-select" required>
                <option disabled selected value>Selecciona la categoría</option>
                <% for(c = 0; c < Categories.length; c++) { %><!--Loop para crear un option por cada categoría-->
                    <option value="<%= Categories[c] %>"><%= Categories[c] %></option>
                <% } %>
            </select>
            </div>
        </div>

        <div class="row mb-3">
            <label for="audio" class="col-sm-2 col-form-label">Audio:</label>
            <div class="col-sm-10">
                <input type="file" class="form-control" name="sound[audio]" id="audio" accept=".mp3" required>
                <div class="invalid-feedback">Debes añadir un archivo mp3 con el audio del sonido creado.</div>
            </div>
        </div>
        
        <div class="row mb-3">
            <label for="image" class="col-sm-2 col-form-label">Imagen:</label>
            <div class="col-sm-10">
                <input type="file" class="form-control" name="sound[image]" id="image" accept=".jpeg, .png, .jpg" required>
                <div class="invalid-feedback">Debes añadir una imagen jpeg o jpg del sonido creado.</div>
            </div>
        </div>

        <button type="submit" class="btn btn-success">Crear</button>
        <button type="reset" class="btn btn-success">Limpiar</button>
    </form>

    <a class="link-success" href="/sounds">Sonidos</a>
    <a class="link-success" href="/sounds/categories">Categorías</a>
</section>